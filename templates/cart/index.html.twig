{% extends 'base.html.twig' %}

{% block title %}Hello CartController!{% endblock %}


{% block body %}

    <h2> My Cart </h2>

    {%if items | length > 0 %}
        <table class="table">
            <thead>
            <tr>
                <th>Product</th>
                <th>Price</th>
                <th>Quantity</th>
                <th>Total</th>
                <th></th>
            </tr>
            </thead>

            <tbody>
                {% for item in items%}
            <tr>
                <td>{{item.product.name}}</td>
                <td>{{item.product.price}}</td>
                <td>{{item.quantity}}</td>
                <td>{{item.product.price * item.quantity}}</td>
                <td>
                    <a href="{{ path('cart_remove', {'id': item.product.id})}}" class="btn btn-danger btn-sm"> Delete </a>
                </td>
            </tr>
            {% endfor %}
            </tbody>

            <tfoot>
                <tr>
                    <td colspan="3">Total : </td>
                    <td> {{total}}</td>
                    <td><button type="button" class="btn btn-success btn-sm">Validate Cart</button></td>
                </tr>
            </tfoot>
        </table>
    {% else %}
        <p> Votre panier est vide </p>
    {%endif%}

{% endblock %}
